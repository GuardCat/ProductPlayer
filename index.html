<!doctype HTML>
<html>
<head>
	<link rel="stylesheet" id="mainstyle"></link>
	<link rel="stylesheet" id="cardstyle"></link>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">
</head>

<body>


<div class="cardContainer">
</div>

<script type="text/javascript" id="observer"	></script>
<script type="text/javascript" id="utilities"	></script>
<script type="text/javascript" id="fetcher"		></script>
<script type="text/javascript" id="base"		></script>
<script type="text/javascript" id="cardmaker"	></script>
<script type="text/javascript" id="loadlist" src="https://guardcat.github.io/GCLibraries/loadlistclass.js"></script>


<script type="text/javascript">

const data = {
	forLoad: {
		observer:	{attribute:	"src",	value:	"js/observer.js"},
		fetcher:	{attribute: "src",	value:	"js/fetcher.js"},
		utilities:	{attribute:	"src",	value:	"js/utilities.js"},
		cardmaker:	{attribute: "src",	value:	"js/cardmaker.js"},
		base:		{attribute:	"src",	value:	"base.jsonp"},
		mainstyle:	{attribute:	"href",	value:	"css/mainstyle.css"},
		cardstyle:	{attribute:	"href",	value:	"css/card.css"}
	}
};

function director( ) {
	base = JSON.parse( decodeURIComponent(base) ); /* определение глобальной переменной base зашито в jsonp */
	base.desc.forEach( ( e, i ) => {
		document.querySelector(".cardContainer").appendChild( (new SACard(e, i, base)).html );
	} );
	//let cards = new CardMaker(base.desc, document.querySelector(".cardContainer") );
}


new LoadList(data.forLoad, director);


</script>

</body>
</html>